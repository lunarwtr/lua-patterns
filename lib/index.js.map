{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@lunarwater/lua-patterns/./src/index.ts","webpack://@lunarwater/lua-patterns/webpack/before-startup","webpack://@lunarwater/lua-patterns/webpack/startup","webpack://@lunarwater/lua-patterns/webpack/after-startup"],"sourcesContent":["/* eslint-disable @typescript-eslint/naming-convention */\nexport const TOK = Object.freeze({\n\t/**\n\t* Token '^'\n\t*/\n\tSTART: 0,\n\t/**\n\t* Token '$'\n\t*/\n\tEND: 1,\n\t/**\n\t* Token '.'\n\t*/\n\tANY: 2,\n\t/**\n\t* Token '*'\n\t*/\n\tZEROORMORE: 3,\n\t/**\n\t* Token '+'\n\t*/\n\tONEORMORE: 4,\n\t/**\n\t* Token '-'\n\t*/\n\tZEROORMORELAZY: 5,\n\t/**\n\t* Token '?'\n\t*/\n\tZEROORONE: 6,\n\t/**\n\t* Token 'literal'\n\t*/\n\tCHAR: 7,\n\t/**\n\t* Token '('\n\t*/\n\tLPAR: 8,\n\t/**\n\t* Token ')'\n\t*/\n\tRPAR: 9,\n\t/**\n\t* Token '%escaped'\n\t*/\n\tESCAPED: 10,\n\t/**\n\t* Token '['\n\t*/\n\tLBRACKET: 11,\n\t/**\n\t* Token ']'\n\t*/\n\tRBRACKET: 12,\n\t/**\n\t* Token '^ in set'\n\t*/\n\tINVERSE: 13,\n\t/**\n\t* Token '%class'\n\t*/\n\tCLASS: 14,\n\t/**\n\t* Token '%1'\n\t*/\n\tCAPTUREREF: 15,\n\t/**\n\t* Token '%b'\n\t*/\n\tBALANCED: 16,\n\t/**\n\t* Token '%f'\n\t*/\n\tFRONTIER: 17,\n\t/**\n\t* Token 'error'\n\t*/\n\tERROR: 18,\n});\n\nexport const TokToStr = [\n\t\"START\",\n\t\"END\",\n\t\"ANY\",\n\t\"ZEROORMORE\",\n\t\"ONEORMORE\",\n\t\"ZEROORMORELAZY\",\n\t\"ZEROORONE\",\n\t\"CHAR\",\n\t\"LPAR\",\n\t\"RPAR\",\n\t\"ESCAPED\",\n\t\"LBRACKET\",\n\t\"RBRACKET\",\n\t\"INVERSE\",\n\t\"CLASS\",\n\t\"CAPTUREREF\",\n\t\"BALANCED\",\n\t\"FRONTIER\",\n];\n\n// debug = console.log\nconst debug = (message?: any, ...optionalParams: any[]) => {};\n\nexport class Token {\n\tconstructor(public type: number, public string?: string) {}\n}\n\nexport class Lexer {\n\tpublic input: string;\n\tpublic end: number;\n\tpublic last: number;\n\tpublic tokens: Token[];\n\tpublic current: string;\n\tpublic caret: number;\n\n\tconstructor(str: string) {\n\t\tthis.input = str;\n\t\tthis.end = str.length;\n\t\tthis.last = str.length - 1;\n\t\tthis.tokens = [];\n\t\tthis.current = str.charAt(0);\n\t\tthis.caret = 0;\n\t}\n\n\tpublic Next() {\n\t\tthis.current = this.input.charAt(++this.caret);\n\t}\n\n\tpublic Lookahead() {\n\t\treturn this.input.charAt(this.caret + 1);\n\t}\n\n\tpublic CheckNext(char: string) {\n\t\tif (this.current === char) {\n\t\t\tthis.Next();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic IsEnd() {\n\t\treturn this.caret >= this.end;\n\t}\n\n\tpublic IsLast() {\n\t\treturn this.caret === this.last;\n\t}\n\n\tpublic AddToken(type: number, info?: string) {\n\t\tthis.tokens.push(new Token(type, info));\n\t}\n\n\tpublic Sub(a: number, b: number) {\n\t\treturn this.input.substring(a, b);\n\t}\n}\n\nfunction MatchClass(char: string) {\n\tswitch (char.toLowerCase()) {\n\t\tcase 'a': case 'c': case 'd': case 'g': case 'l':\n\t\tcase 'p': case 's': case 'u': case 'w': case 'x': case 'z':\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn false;\n\t}\n}\n\nfunction ReadQuantity(lex: Lexer) {\n\tswitch (lex.current) {\n\t\tcase \"+\":\n\t\t\tlex.AddToken(TOK.ONEORMORE);\n\t\t\tlex.Next();\n\t\t\tbreak;\n\t\tcase \"-\":\n\t\t\tlex.AddToken(TOK.ZEROORMORELAZY);\n\t\t\tlex.Next();\n\t\t\tbreak;\n\t\tcase \"*\":\n\t\t\tlex.AddToken(TOK.ZEROORMORE);\n\t\t\tlex.Next();\n\t\t\tbreak;\n\t\tcase \"?\":\n\t\t\tlex.AddToken(TOK.ZEROORONE);\n\t\t\tlex.Next();\n\t\t\tbreak;\n\t}\n}\n\nfunction ReadEscape(lex: Lexer) {\n\tif (lex.IsEnd()) { lex.AddToken(TOK.ERROR, \"Unfinished escape. Finish \\\"%\\\" with class or escape character or use \\\"%%\\\" to match \\\"%\\\" as character.\"); throw new Error(\"\"); }\n\tif (MatchClass(lex.current)) {\n\t\tlex.AddToken(TOK.CLASS, lex.current);\n\t} else {\n\t\tlex.AddToken(TOK.ESCAPED, lex.current);\n\t}\n\tlex.Next();\n}\n\nfunction ReadSet(lex: Lexer) {\n\tlex.AddToken(TOK.LBRACKET);\n\tlex.Next();\n\tif (lex.CheckNext(\"^\")) lex.AddToken(TOK.INVERSE);\n\tdo {\n\t\tif (lex.IsEnd()) { lex.AddToken(TOK.ERROR, \"Missing \\\"]\\\" to close set.\"); throw new Error(\"\"); }\n\t\tif (lex.current === \"%\" && lex.caret < lex.end) {\n\t\t\tlex.Next();\n\t\t\tReadEscape(lex);\n\t\t} else {\n\t\t\tlex.AddToken(TOK.CHAR, lex.current);\n\t\t\tlex.Next();\n\t\t}\n\t} while (lex.current !== \"]\");\n\tlex.AddToken(TOK.RBRACKET);\n\tlex.Next();\n}\n\nfunction PatternsLex(input: string): Token[] {\n\tconst lex = new Lexer(input);\n\ttry {\n\t\tif (lex.CheckNext(\"^\")) {\n\t\t\tlex.AddToken(TOK.START);\n\t\t}\n\t\tdebug(\"Str\", input);\n\t\tdebug(\"Len\", input.length);\n\t\twhile (!lex.IsEnd()) {\n\t\t\tswitch (lex.current) {\n\t\t\t\tcase \"(\":\n\t\t\t\t\tdebug(\"(\");\n\t\t\t\t\tlex.AddToken(TOK.LPAR);\n\t\t\t\t\tlex.Next();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \")\":\n\t\t\t\t\tdebug(\")\");\n\t\t\t\t\tlex.AddToken(TOK.RPAR);\n\t\t\t\t\tlex.Next();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"$\":\n\t\t\t\t\tdebug(\"$\");\n\t\t\t\t\tif (lex.IsLast()) {\n\t\t\t\t\t\tlex.AddToken(TOK.END);\n\t\t\t\t\t\tlex.Next();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlex.AddToken(TOK.CHAR, lex.current);\n\t\t\t\t\t\tlex.Next();\n\t\t\t\t\t\tReadQuantity(lex);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"%\": {\n\t\t\t\t\tlex.Next();\n\t\t\t\t\tdebug(\"%\", lex.current);\n\t\t\t\t\tswitch (lex.current as any) {\n\t\t\t\t\t\tcase \"b\":\n\t\t\t\t\t\t\tif (lex.caret + 2 >= lex.end) { lex.AddToken(TOK.ERROR, \"Missing characters for \\\"%b\\\" pattern. Example: \\\"%b()\\\".\"); throw new Error(\"\"); }\n\t\t\t\t\t\t\tlex.AddToken(TOK.BALANCED, lex.Sub(lex.caret + 1, lex.caret + 3));\n\t\t\t\t\t\t\tlex.Next();\n\t\t\t\t\t\t\tlex.Next();\n\t\t\t\t\t\t\tlex.Next();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"f\":\n\t\t\t\t\t\t\tlex.Next();\n\t\t\t\t\t\t\tif ((lex.current as any) !== \"[\") { lex.AddToken(TOK.ERROR, \"Missing \\\"[\\\" after \\\"%f\\\" in pattern. Example: \\\"%f[%w]\\\".\"); throw new Error(\"\"); }\n\t\t\t\t\t\t\tlex.AddToken(TOK.FRONTIER);\n\t\t\t\t\t\t\tReadSet(lex);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase '0': case '1': case '2': case '3':\n\t\t\t\t\t\tcase '4': case '5': case '6': case '7':\n\t\t\t\t\t\tcase '8': case '9':\n\t\t\t\t\t\t\tlex.AddToken(TOK.CAPTUREREF, lex.current);\n\t\t\t\t\t\t\tlex.Next();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tReadEscape(lex);\n\t\t\t\t\t\t\tReadQuantity(lex);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase \"[\":\n\t\t\t\t\tdebug(\"[\");\n\t\t\t\t\tReadSet(lex);\n\t\t\t\t\tReadQuantity(lex);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \".\":\n\t\t\t\t\tdebug(\".\");\n\t\t\t\t\tlex.AddToken(TOK.ANY);\n\t\t\t\t\tlex.Next();\n\t\t\t\t\tReadQuantity(lex);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tdebug(\"char\", lex.current);\n\t\t\t\t\tlex.AddToken(TOK.CHAR, lex.current);\n\t\t\t\t\tlex.Next();\n\t\t\t\t\tReadQuantity(lex);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tcatch (e: any) {\n\t\tif (e.message.length > 0) {\n\t\t\tdebug(e.name + \": \" + e.message);\n\t\t\tlex.AddToken(TOK.ERROR, \"Lexer error: \" + e.message);\n\t\t}\n\t}\n\n\treturn lex.tokens;\n}\n\nexport const PAT = Object.freeze({\n\tERROR: 0,\n\tCHARS: 1,\n\tQUANTIFIER: 2,\n\tANY: 3,\n\tSTART: 4,\n\tEND: 5,\n\tESCAPED: 6,\n\tCLASS: 7,\n\tCAPTUREREF: 8,\n\tBALANCED: 9,\n\tSET: 10,\n\tCAPTURE: 11,\n\tFRONTIER: 12,\n\tRANGE: 13,\n\tINVERSESET: 14,\n\tPOSITION: 15,\n\tWARNING: 16,\n\tNOTE: 17,\n\tSETCHARS: 18,\n});\n\n/**\n * Maps between PAT and string value\n */\nexport const PatToStr = [\n\t\"ERROR\",\n\t\"CHARS\",\n\t\"QUANTIFIER\",\n\t\"ANY\",\n\t\"START\",\n\t\"END\",\n\t\"ESCAPED\",\n\t\"CLASS\",\n\t\"CAPTUREREF\",\n\t\"BALANCED\",\n\t\"SET\",\n\t\"CAPTURE\",\n\t\"FRONTIER\",\n\t\"RANGE\",\n\t\"INVERSESET\",\n\t\"POSITION\",\n\t\"WARNING\",\n\t\"NOTE\",\n\t\"SETCHARS\",\n];\n\nexport class Parser {\n\tpublic tokens: Token[];\n\n\tpublic current: Token;\n\tpublic nodes: PatternObject[];\n\tpublic levels: PatternObject[];\n\tpublic captures: PatternObject[];\n\n\tprivate caret: number;\n\tprivate last: number;\n\tprivate end: number;\n\n\tconstructor(tokens: Token[]) {\n\t\tthis.tokens = tokens;\n\t\tthis.caret = 0;\n\t\tthis.last = tokens.length - 1;\n\t\tthis.end = tokens.length;\n\t\tthis.current = tokens[0];\n\t\tthis.nodes = [];\n\t\tthis.levels = [];\n\t\tthis.captures = [];\n\t}\n\n\tpublic Next() {\n\t\tthis.current = this.tokens[++this.caret];\n\t}\n\n\tpublic IsNextQuantifier() {\n\t\tif (this.IsLast()) return false;\n\n\t\tlet token = this.tokens[this.caret + 1];\n\t\tswitch (token.type) {\n\t\t\tcase TOK.ZEROORMORE: case TOK.ONEORMORE: case TOK.ZEROORMORELAZY: case TOK.ZEROORONE:\n\t\t\t\treturn true;\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\tpublic IsNextRange() {\n\t\tif (this.caret + 2 >= this.end) return false;\n\n\t\tlet token = this.tokens[this.caret + 1];\n\t\tlet token2 = this.tokens[this.caret + 2];\n\n\t\tif (token.type === TOK.CHAR && token.string === \"-\" && token2.type === TOK.CHAR) return true;\n\n\t\treturn false;\n\t}\n\n\tpublic IsNextRPar() {\n\t\tif (this.IsLast()) return false;\n\t\treturn this.tokens[this.caret + 1].type === TOK.RPAR;\n\t}\n\n\tpublic Add(node: PatternObject) {\n\t\tif (this.levels.length === 0) {\n\t\t\tthis.nodes.push(node);\n\t\t} else {\n\t\t\tthis.levels[this.levels.length - 1].Add(node);\n\t\t}\n\t}\n\n\tpublic StartCapture() {\n\t\tlet capture = new PatternObject(PAT.CAPTURE, this, this.captures.length + 1);\n\t\tthis.captures.push(capture);\n\t\tthis.levels.push(capture);\n\t}\n\n\tpublic EndCapture() {\n\t\tthis.levels.pop();\n\t}\n\n\tpublic IsEnd() {\n\t\treturn this.caret >= this.end;\n\t}\n\n\tpublic IsLast() {\n\t\treturn this.caret === this.last;\n\t}\n}\n\nexport class PatternObject {\n\tpublic type: number;\n\tpublic text: any;\n\tpublic children: PatternObject[];\n\n\tconstructor(type: number, parent: Parser | PatternObject, text?: any) {\n\t\tthis.type = type;\n\t\tthis.text = text;\n\t\tthis.children = [];\n\t\tparent.Add(this);\n\t}\n\n\tpublic Add(child: PatternObject) {\n\t\tthis.children.push(child);\n\t}\n}\n\nfunction CheckQuantifier(par: Parser, parent: PatternObject) {\n\tif (par.IsEnd()) return;\n\tswitch (par.current.type) {\n\t\tcase TOK.ZEROORMORE: case TOK.ONEORMORE: case TOK.ZEROORMORELAZY: case TOK.ZEROORONE:\n\t\t\tnew PatternObject(PAT.QUANTIFIER, parent, par.current.type);\n\t\t\tif (parent.type === PAT.CHARS && parent.text.charCodeAt(0) > 255) new PatternObject(PAT.WARNING, parent, \"Character \\\"\" + parent.text + \"\\\" (\" + parent.text.charCodeAt(0) + \") is outside ASCII range. It will be interpreted incorrectly (as separate parts of the symbol).\");\n\t\t\tpar.Next();\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn;\n\t}\n}\n\nfunction MakeString(par: Parser) {\n\tlet string = new PatternObject(PAT.CHARS, par, \"\");\n\tdo {\n\t\tstring.text += par.current.string;\n\t\tpar.Next();\n\t} while (!par.IsEnd() && par.current.type === TOK.CHAR && !par.IsNextQuantifier());\n\n\tCheckQuantifier(par, string);\n}\n\nfunction MakeSet(par: Parser, parent?: PatternObject) {\n\tlet set;\n\tpar.Next();\n\tif (par.current.type === TOK.INVERSE) { set = new PatternObject(PAT.INVERSESET, parent ? parent : par); par.Next(); } else { set = new PatternObject(PAT.SET, parent ? parent : par); }\n\n\tdo {\n\t\tswitch (par.current.type) {\n\t\t\tcase TOK.CLASS:\n\t\t\t\tnew PatternObject(PAT.CLASS, set, par.current.string);\n\t\t\t\tpar.Next();\n\t\t\t\tbreak;\n\t\t\tcase TOK.CHAR:\n\t\t\t\tif (par.IsNextRange()) {\n\t\t\t\t\tlet string = par.current.string || '';\n\t\t\t\t\tpar.Next();\n\t\t\t\t\tpar.Next();\n\t\t\t\t\tnew PatternObject(PAT.RANGE, set, string + par.current.string);\n\t\t\t\t\tif (string.charCodeAt(0) > 255 || (par.current.string!.charCodeAt(0) > 255)) new PatternObject(PAT.WARNING, set, \"Range \\\"\" + string + \"\\\" (\" + string.charCodeAt(0) + \") - \\\"\" + par.current.string + \"\\\" (\" + par.current.string!.charCodeAt(0) + \") is outside ASCII range. It will be interpreted incorrectly (as separate parts of the symbol).\");\n\t\t\t\t\tpar.Next();\n\t\t\t\t} else {\n\t\t\t\t\tlet string = new PatternObject(PAT.SETCHARS, set, par.current.string);\n\t\t\t\t\tif (par.current.string!.charCodeAt(0) > 255) new PatternObject(PAT.WARNING, set, \"Character \\\"\" + par.current.string + \"\\\" (\" + par.current.string!.charCodeAt(0) + \") is outside ASCII range. It will be interpreted incorrectly (as separate parts of the symbol).\");\n\t\t\t\t\tpar.Next();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase TOK.ESCAPED:\n\t\t\t\tnew PatternObject(PAT.ESCAPED, set, par.current.string);\n\t\t\t\tif (par.current.string!.charCodeAt(0) > 255) new PatternObject(PAT.WARNING, set, \"Character \\\"\" + par.current.string + \"\\\" (\" + par.current.string!.charCodeAt(0) + \") is outside ASCII range. It will be interpreted incorrectly (as separate parts of the symbol).\");\n\t\t\t\tpar.Next();\n\t\t\t\tbreak;\n\t\t\tcase TOK.ERROR:\n\t\t\t\tnew PatternObject(PAT.ERROR, set, par.current.string);\n\t\t\t\tpar.Next();\n\t\t\t\treturn;\n\t\t\tdefault:\n\t\t\t\tconsole.log(\"???\", par.current.type);\n\t\t\t\tpar.Next();\n\t\t\t\tbreak;\n\t\t}\n\t} while (par.current.type !== TOK.RBRACKET);\n\tpar.Next();\n\n\tCheckQuantifier(par, set);\n}\n\nexport function PatternsParse(tokens: Token[]): PatternObject[] {\n\tconst par = new Parser(tokens);\n\ttry {\n\t\twhile (!par.IsEnd()) {\n\t\t\tswitch (par.current.type) {\n\t\t\t\tcase TOK.ANY:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\".\");\n\t\t\t\t\t\tlet obj = new PatternObject(PAT.ANY, par);\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t\tCheckQuantifier(par, obj);\n\t\t\t\t\t\tif (obj.children[0] && obj.children[0].type === PAT.QUANTIFIER && (obj.children[0].text === TOK.ZEROORMORE || obj.children[0].text === TOK.ONEORMORE)) {\n\t\t\t\t\t\t\tnew PatternObject(PAT.NOTE, obj, \"Matching any characters with \\\"+\\\" or \\\"*\\\" quantifiers may fail your pattern. They match the longest sequence, meaning anything after this pattern won't be matched.\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.CHAR:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"char\");\n\t\t\t\t\t\tMakeString(par);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.ESCAPED:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"escaped\");\n\t\t\t\t\t\tlet obj = new PatternObject(PAT.ESCAPED, par, par.current.string);\n\t\t\t\t\t\tif (par.current.string!.charCodeAt(0) > 255) new PatternObject(PAT.WARNING, obj, \"Character \\\"\" + par.current.string + \"\\\" (\" + par.current.string!.charCodeAt(0) + \") is outside ASCII range. It will be interpreted incorrectly (as separate parts of the symbol).\");\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t\tCheckQuantifier(par, obj);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.LBRACKET:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"[\");\n\t\t\t\t\t\tMakeSet(par);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.CLASS:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"class\");\n\t\t\t\t\t\tlet obj = new PatternObject(PAT.CLASS, par, par.current.string);\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t\tCheckQuantifier(par, obj);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.LPAR:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"(\");\n\t\t\t\t\t\tif (par.IsNextRPar()) {\n\t\t\t\t\t\t\tpar.captures.push(new PatternObject(PAT.POSITION, par, par.captures.length + 1));\n\t\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpar.StartCapture();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.RPAR:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\")\");\n\t\t\t\t\t\tpar.EndCapture();\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.CAPTUREREF:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"Captureref\");\n\t\t\t\t\t\tlet obj = new PatternObject(PAT.CAPTUREREF, par, par.current.string);\n\t\t\t\t\t\tconst ref = parseInt(par.current.string!, 10);\n\t\t\t\t\t\tif (par.current.string === \"0\") {\n\t\t\t\t\t\t\tnew PatternObject(PAT.NOTE, obj, \"Reference for capture #0 is available only in string.gsub.\");\n\t\t\t\t\t\t} else if (par.captures.length < ref) {\n\t\t\t\t\t\t\tnew PatternObject(PAT.WARNING, obj, \"Reference for capture #\" + par.current.string + \" is not found.\");\n\t\t\t\t\t\t} else if (par.captures[ref - 1].type === PAT.POSITION) {\n\t\t\t\t\t\t\tnew PatternObject(PAT.NOTE, obj, \"References for position captures are available only in string.gsub.\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.BALANCED:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"balanced\");\n\t\t\t\t\t\tnew PatternObject(PAT.BALANCED, par, par.current.string);\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.FRONTIER:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"%f\");\n\t\t\t\t\t\tlet f = new PatternObject(PAT.FRONTIER, par);\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t\tMakeSet(par, f);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.ERROR:\n\t\t\t\t\t{\n\t\t\t\t\t\tnew PatternObject(PAT.ERROR, par, par.current.string);\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.START:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"^\");\n\t\t\t\t\t\tnew PatternObject(PAT.START, par);\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase TOK.END:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"$\");\n\t\t\t\t\t\tnew PatternObject(PAT.END, par);\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t{\n\t\t\t\t\t\tdebug(\"unknown\", par.current);\n\t\t\t\t\t\tnew PatternObject(PAT.ERROR, par, \"Unknown pattern, check console.\");\n\t\t\t\t\t\tpar.Next();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (par.levels.length !== 0) throw new Error(\"Unfinished capture #\" + par.captures.length + \". \\\")\\\" is missing.\");\n\t} catch (e: any) {\n\t\tconsole.log(e.name + \": \" + e.message);\n\t\tpar.levels.length = 0;\n\t\tnew PatternObject(PAT.ERROR, par, \"Parser error: \" + e.message);\n\t}\n\n\treturn par.nodes;\n}\n\nexport function CreateDiv(type: string, parent: HTMLElement, text: string, name: string, description: string) {\n\tlet element = document.createElement(\"div\");\n\tlet p = document.createElement(\"a\");\n\tp.className = \"input\";\n\tp.appendChild(document.createTextNode(text));\n\tlet nname = document.createElement(\"a\");\n\tnname.className = \"name\";\n\tnname.appendChild(document.createTextNode(name));\n\tlet ndescription = document.createElement(\"a\");\n\tndescription.className = \"description\";\n\tndescription.appendChild(document.createTextNode(description));\n\telement.classList.add(\"token\", ...type.split(\" \"));\n\telement.appendChild(p);\n\telement.appendChild(nname);\n\telement.appendChild(ndescription);\n\tparent.appendChild(element);\n\n\treturn element;\n}\n\nexport function CleanBaseDiv(basediv: HTMLElement) {\n\tif (!basediv) return;\n\twhile (basediv.firstChild) {\n\t\tbasediv.removeChild(basediv.firstChild);\n\t}\n}\nexport interface PatQualifierNames { [tok: number]: string[] };\nexport const PAT_QUANTIFIER_NAMES = Object.freeze<PatQualifierNames>({\n\t/**\n\t* ZEROORMORE (`*` - zero or more) - 3-tuple of symbol, short description, and long description\n\t* Allows to match the pattern zero or more times. This will match the longest sequence.\n\t*/\n\t[TOK.ZEROORMORE]: [\"*\", \"zero or more\", \"Allows to match the pattern zero or more times. This will match the longest sequence.\"],\n\t/**\n\t* ONEORMORE (`+` - one or more) - 3-tuple of symbol, short description, and long description\n\t* Allows to match the pattern one or more times. This will match the longest sequence.\n\t*/\n\t[TOK.ONEORMORE]: [\"+\", \"one or more\", \"Allows to match the pattern one or more times. This will match the longest sequence.\"],\n\t/**\n\t* ZEROORMORELAZY (`-` - lazy zero or more) - 3-tuple of symbol, short description, and long description\n\t* Allows to match the pattern zero or more times. This will match the shortest sequence.\n\t*/\n\t[TOK.ZEROORMORELAZY]: [\"-\", \"lazy zero or more\", \"Allows to match the pattern zero or more times. This will match the shortest sequence.\"],\n\t/**\n\t* ZEROORONE (`?` - zero or one) - 3-tuple of symbol, short description, and long description\n\t* Allows to match the pattern zero or one time.\n\t*/\n\t[TOK.ZEROORONE]: [\"?\", \"zero or one\", \"Allows to match the pattern zero or one time.\"],\n});\n\nexport interface PatClassNames { [tok: string]: string[] };\nexport const PAT_CLASS_NAMES = Object.freeze<PatClassNames>({\n\t/**\n\t* Pattern class for \"Letters\". all letters (Equivalent to [a-zA-Z])\n\t* tuple of short description, and long description\n\t*/\n\t[\"a\"]: [\"Letters\", \"all letters (Equivalent to [a-zA-Z])\"],\n\t/**\n\t* Pattern class for \"Not letters\". all non-letters (Equivalent to [^a-zA-Z])\n\t* tuple of short description, and long description\n\t*/\n\t[\"A\"]: [\"Not letters\", \"all non-letters (Equivalent to [^a-zA-Z])\"],\n\t/**\n\t* Pattern class for \"Controls\". all control characters (Such as \\\"\\\\t\\\", \\\"\\\\n\\\", \\\"\\\\r\\\", etc.) (Equivalent to [\\\\0-\\\\31])\n\t* tuple of short description, and long description\n\t*/\n\t[\"c\"]: [\"Controls\", \"all control characters (Such as \\\"\\\\t\\\", \\\"\\\\n\\\", \\\"\\\\r\\\", etc.) (Equivalent to [\\\\0-\\\\31])\"],\n\t/**\n\t* Pattern class for \"Not Controls\". all non-control characters (Equivalent to [^\\\\0-\\\\31])\n\t* tuple of short description, and long description\n\t*/\n\t[\"C\"]: [\"Not Controls\", \"all non-control characters (Equivalent to [^\\\\0-\\\\31])\"],\n\t/**\n\t* Pattern class for \"Digits\". all digits (Equivalent to [0-9])\n\t* tuple of short description, and long description\n\t*/\n\t[\"d\"]: [\"Digits\", \"all digits (Equivalent to [0-9])\"],\n\t/**\n\t* Pattern class for \"Not digits\". all non-digits (Equivalent to [^0-9])\n\t* tuple of short description, and long description\n\t*/\n\t[\"D\"]: [\"Not digits\", \"all non-digits (Equivalent to [^0-9])\"],\n\t/**\n\t* Pattern class for \"Printable\". all printable characters except space (Equivalent to [\\\\33-\\\\126])\n\t* tuple of short description, and long description\n\t*/\n\t[\"g\"]: [\"Printable\", \"all printable characters except space (Equivalent to [\\\\33-\\\\126])\"],\n\t/**\n\t* Pattern class for \"Not printable\". all non-printable characters including space (Equivalent to [^\\\\33-\\\\126])\n\t* tuple of short description, and long description\n\t*/\n\t[\"G\"]: [\"Not printable\", \"all non-printable characters including space (Equivalent to [^\\\\33-\\\\126])\"],\n\t/**\n\t* Pattern class for \"Lowercase\". all lowercase letters (Equivalent to [a-z])\n\t* tuple of short description, and long description\n\t*/\n\t[\"l\"]: [\"Lowercase\", \"all lowercase letters (Equivalent to [a-z])\"],\n\t/**\n\t* Pattern class for \"Not lowercase\". all non-lowercase letters (Equivalent to [^a-z])\n\t* tuple of short description, and long description\n\t*/\n\t[\"L\"]: [\"Not lowercase\", \"all non-lowercase letters (Equivalent to [^a-z])\"],\n\t/**\n\t* Pattern class for \"Punctuations\". all punctuation characters (Equivalent to [!\\\"#$%&'()*+,-./[\\\\%]^_`{|}~])\n\t* tuple of short description, and long description\n\t*/\n\t[\"p\"]: [\"Punctuations\", \"all punctuation characters (Equivalent to [!\\\"#$%&'()*+,-./[\\\\%]^_`{|}~])\"],\n\t/**\n\t* Pattern class for \"Not punctuations\". all non-punctuation characters (Equivalent to [^!\\\"#$%&'()*+,-./[\\\\%]^_`{|}~])\n\t* tuple of short description, and long description\n\t*/\n\t[\"P\"]: [\"Not punctuations\", \"all non-punctuation characters (Equivalent to [^!\\\"#$%&'()*+,-./[\\\\%]^_`{|}~])\"],\n\t/**\n\t* Pattern class for \"Spaces\". all white-space characters (Equivalent to [ \\\\t\\\\n\\\\v\\\\f\\\\r])\n\t* tuple of short description, and long description\n\t*/\n\t[\"s\"]: [\"Spaces\", \"all white-space characters (Equivalent to [ \\\\t\\\\n\\\\v\\\\f\\\\r])\"],\n\t/**\n\t* Pattern class for \"Not spaces\". all non-white-space characters (Equivalent to [^ \\\\t\\\\n\\\\v\\\\f\\\\r])\n\t* tuple of short description, and long description\n\t*/\n\t[\"S\"]: [\"Not spaces\", \"all non-white-space characters (Equivalent to [^ \\\\t\\\\n\\\\v\\\\f\\\\r])\"],\n\t/**\n\t* Pattern class for \"Uppercase\". all uppercase letters (Equivalent to [A-Z])\n\t* tuple of short description, and long description\n\t*/\n\t[\"u\"]: [\"Uppercase\", \"all uppercase letters (Equivalent to [A-Z])\"],\n\t/**\n\t* Pattern class for \"Not uppercase\". all non-uppercase letters (Equivalent to [^A-Z])\n\t* tuple of short description, and long description\n\t*/\n\t[\"U\"]: [\"Not uppercase\", \"all non-uppercase letters (Equivalent to [^A-Z])\"],\n\t/**\n\t* Pattern class for \"Alphanumerics\". all digits, lowercase and uppercase letters (Equivalent to [a-zA-Z0-9])\n\t* tuple of short description, and long description\n\t*/\n\t[\"w\"]: [\"Alphanumerics\", \"all digits, lowercase and uppercase letters (Equivalent to [a-zA-Z0-9])\"],\n\t/**\n\t* Pattern class for \"Not alphanumerics\". all non-digits, non-lowercase and non-uppercase letters (Equivalent to [^a-zA-Z0-9])\n\t* tuple of short description, and long description\n\t*/\n\t[\"W\"]: [\"Not alphanumerics\", \"all non-digits, non-lowercase and non-uppercase letters (Equivalent to [^a-zA-Z0-9])\"],\n\t/**\n\t* Pattern class for \"Hexadecimals\". all hexadecimal digits (Equivalent to [0-9a-fA-F]\n\t* tuple of short description, and long description\n\t*/\n\t[\"x\"]: [\"Hexadecimals\", \"all hexadecimal digits (Equivalent to [0-9a-fA-F]\"],\n\t/**\n\t* Pattern class for \"Not hexadecimals\". all non-hexadecimal digits (Equivalent to [^0-9a-fA-F]\n\t* tuple of short description, and long description\n\t*/\n\t[\"X\"]: [\"Not hexadecimals\", \"all non-hexadecimal digits (Equivalent to [^0-9a-fA-F]\"],\n\t/**\n\t* Pattern class for \"\\\\0 byte\". NULL character (0). Deprecated in Lua 5.2.0, use \\\"\\\\0\\\" as regular character.\n\t* tuple of short description, and long description\n\t*/\n\t[\"z\"]: [\"\\\\0 byte\", \"NULL character (0). Deprecated in Lua 5.2.0, use \\\"\\\\0\\\" as regular character.\"],\n\t/**\n\t* Pattern class for \"Not \\\\0 byte\". non-NULL character (0). Deprecated in Lua 5.2.0, use \\\"[^\\\\0]\\\" as regular character.\n\t* tuple of short description, and long description\n\t*/\n\t[\"Z\"]: [\"Not \\\\0 byte\", \"non-NULL character (0). Deprecated in Lua 5.2.0, use \\\"[^\\\\0]\\\" as regular character.\"],\n});\n\nexport function PatternsShow(nodes: PatternObject[], parent: HTMLElement, basediv: HTMLElement) {\n\ttry {\n\t\tfor (let node of nodes) {\n\t\t\tswitch (node.type) {\n\t\t\t\tcase PAT.CHARS:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet len = node.text.length;\n\t\t\t\t\t\tlet element = CreateDiv(\"char\", parent, node.text, len > 1 ? \"Characters.\" : \"Character.\", len > 1 ? (\"Matches the characters \\\"\" + node.text + \"\\\" literally.\") : (\"Matches the character \\\"\" + node.text + \"\\\" literally.\"));\n\t\t\t\t\t\tPatternsShow(node.children, element, basediv);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.SETCHARS:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet len = node.text.length;\n\t\t\t\t\t\tlet element = CreateDiv(\"char\", parent, node.text, \"Character.\", (parent.classList.contains(\"inverse\") ? \"Doesn't match \\\"\" : \"Matches \\\"\") + node.text + \"\\\" literally.\");\n\t\t\t\t\t\tPatternsShow(node.children, element, basediv);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.QUANTIFIER:\n\t\t\t\t\t{\n\t\t\t\t\t\tconst q = parseInt(node.text, 10);\n\t\t\t\t\t\tlet element = CreateDiv(\"quantifier\", parent, PAT_QUANTIFIER_NAMES[q][0], \"Quantifier (\" + PAT_QUANTIFIER_NAMES[q][1] + \").\", PAT_QUANTIFIER_NAMES[q][2]);\n\t\t\t\t\t\tPatternsShow(node.children, element, basediv);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.ANY:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = CreateDiv(\"any\", parent, \".\", \"Any.\", \"Matches any character. Equivalent to \\\"[%s%S]\\\".\");\n\t\t\t\t\t\tPatternsShow(node.children, element, basediv);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.ESCAPED:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = CreateDiv(\"char\", parent, \"%\" + node.text, \"Escaped character.\", \"Matches the character \\\"\" + node.text + \"\\\" literally.\");\n\t\t\t\t\t\tif (parent === basediv) { PatternsShow(node.children, element, basediv); }\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.CLASS:\n\t\t\t\t\t{\n\t\t\t\t\t\tconst q = parseInt(node.text, 10);\n\t\t\t\t\t\tlet element = CreateDiv(\"class\", parent, \"%\" + node.text, \"Class (\" + PAT_CLASS_NAMES[q][0] + \").\", \"Matches \" + PAT_CLASS_NAMES[q][1] + \".\");\n\t\t\t\t\t\tif (parent === basediv) { PatternsShow(node.children, element, basediv); }\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.CAPTUREREF:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = CreateDiv(\"captureref\", parent, \"%\" + node.text, \"Capture reference.\", \"Matches or returns the same pattern as in referenced capture \\\"\" + node.text + \"\\\".\");\n\t\t\t\t\t\tPatternsShow(node.children, element, basediv);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.BALANCED:\n\t\t\t\t\t{\n\t\t\t\t\t\tCreateDiv(\"balanced\", parent, \"%b\" + node.text, \"Balanced match.\", \"Matches characters starting at \\\"\" + node.text.charAt(0) + \"\\\" until the corresponding \\\"\" + node.text.charAt(1) + \"\\\".\");\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.SET:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = CreateDiv(\"set\", parent, \"[...]\", \"Set.\", \"Matches any character from the set:\");\n\t\t\t\t\t\tPatternsShow(node.children, element, basediv);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.INVERSESET:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = CreateDiv(\"inverse set\", parent, \"[^...]\", \"Inverse set.\", \"Matches any character except:\");\n\t\t\t\t\t\tPatternsShow(node.children, element, basediv);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.POSITION:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = CreateDiv(\"position\", parent, \"()\", \"Position capture #\" + node.text + \".\", \"Captures the position in the string.\");\n\t\t\t\t\t\tPatternsShow(node.children, element, basediv);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.CAPTURE:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = CreateDiv(\"capture\", parent, \"(...)\", \"Capture #\" + node.text + \".\", \"Makes a pattern group to be used for backreferencing or substring output.\");\n\t\t\t\t\t\tPatternsShow(node.children, element, basediv);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.FRONTIER:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = CreateDiv(\"frontier\", parent, \"%f\", \"Frontier.\", \"Matches any character from the set when the previous character doesn't match it. Can match start and end boundaries of the string.\");\n\t\t\t\t\t\tPatternsShow(node.children, element, basediv);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.RANGE:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet s = node.text.charAt(0), e = node.text.charAt(1);\n\t\t\t\t\t\tlet element = CreateDiv(\"range\", parent, s + \"-\" + e, \"Range.\", \"Matches any character in the range \\\"\" + s + \"\\\" (byte \" + s.charCodeAt(0) + \") to \\\"\" + e + \"\\\" (byte \" + e.charCodeAt(0) + \").\");\n\t\t\t\t\t\tif (s > e) {\n\t\t\t\t\t\t\tCreateDiv(\"warning\", element, \"?\", \"Warning.\", \"The range won't match anything because the start of the range is greater than the end (\\\"\" + s + \"\\\" (\" + s.charCodeAt(0) + \") > \\\"\" + e + \"\\\" (\" + e.charCodeAt(0) + \")).\");\n\t\t\t\t\t\t} else if (s === e) {\n\t\t\t\t\t\t\tCreateDiv(\"note\", element, \"i\", \"Note.\", \"The range has range of one character. Consider using regular char instead.\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.START:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = CreateDiv(\"start\", parent, \"^\", \"Start anchor.\", \"Tells to match the pattern only if it starts from the beginning of the string.\");\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.END:\n\t\t\t\t\t{\n\t\t\t\t\t\tlet element = CreateDiv(\"end\", parent, \"$\", \"End anchor.\", \"Tells to match the pattern only if it ends at the end of the string.\");\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.WARNING:\n\t\t\t\t\t{\n\t\t\t\t\t\tCreateDiv(\"warning\", parent, \"?\", \"Warning.\", node.text);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.NOTE:\n\t\t\t\t\t{\n\t\t\t\t\t\tCreateDiv(\"note\", parent, \"i\", \"Note.\", node.text);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase PAT.ERROR:\n\t\t\t\t\t{\n\t\t\t\t\t\tCreateDiv(\"error\", parent, \"!\", \"Error.\", node.text);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(node);\n\t\t\t\t\tCreateDiv(\"error\", basediv, \"!\", \"Error.\", \"Unknown pattern object (\" + node.type + \") [\" + PatToStr[node.type] + \"]\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} catch (e: any) {\n\t\tCreateDiv(\"error\", basediv, \"!\", \"Error.\", \"Pattern renderer error: \" + e.name + \": \" + e.message);\n\t}\n}\n\nexport function PatternsPrint(input: string, basediv?: HTMLElement | null) {\n\tconst tokens = PatternsLex(input);\n\tconst output = PatternsParse(tokens);\n\tif (!basediv) {\n\t\tbasediv = document.getElementById(\"result\"); \n\t\tif (basediv === null) return;\n\t}\n\tCleanBaseDiv(basediv);\n\tPatternsShow(output, basediv, basediv);\n}\n","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = {};\n__webpack_modules__[607](0, __webpack_exports__);\n",""],"names":[],"sourceRoot":""}